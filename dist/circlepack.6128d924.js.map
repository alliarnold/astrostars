{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-9b5d7194a1d5a644.js","node_modules/@parcel/runtime-js/lib/runtime-9ab0cac2fb058078.js","src/js/circles.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = (__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"5wLbz\"))).then(() => parcelRequire('fLo1P'));","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3rPUc\\\":\\\"circlepack.6128d924.js\\\",\\\"5wLbz\\\":\\\"circle-signs.4c50d36e.js\\\",\\\"3Dy7v\\\":\\\"circlepack.cb0ac2e4.js\\\"}\"));","import * as d3 from \"d3\";\n\nconst height = window.innerHeight * .8,\nwidth = height - 10;\n\nlet state = {  data: null,};\n\ndata = import('../../data/circle-signs.json').then(data => {\n  state.data = data;\n  console.log(state.data);\n   init();\n  })\n\nfunction init() {\n\nconst container = d3.select(\"#circles\")\n                   .style(\"position\", \"relative\");\n\nconst svg = container\n    .append(\"svg\")\n    //.style(\"position\", \"relative\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"viewBox\", `-${(width)/2} -${(height)/2} ${width} ${height}`)\n    .style(\"margin\", \"-40 60\")\n    .style(\"background\", \"##e7dfed\")\n    .on(\"click\", (event) => zoom(event, root));\n\nconst pack = data => d3.pack()\n    .size([width,height])\n    .radius(d => d.data.value)\n    .padding(.01)\n    (d3.hierarchy(state.data))\n        .sum(d => d.value)\n        .sort((a,b) => b.value - a.value);\n\nconst root = pack(state.data);\nlet focus = root;\nlet view;\n\nconsole.log(root)\n\ncolor = d3.scaleOrdinal()\n    .domain([\"zodiac\", \"fire\", \"earth\", \"air\", \"water\", \"aries\", \"leo\", \"sagittarius\", \"taurus\", \"virgo\", \"capricorn\", \"gemini\", \"libra\", \"aquarius\", \"cancer\", \"scorpio\", \"pisces\"])\n    .unknown(\"white\")\n    .range([\"#00d1fa\", \"#faeeed\",\"#e5fae1\", \"#edfaf9\", \"#efedfa\", \"#EA592A\", \"#FC8B5E\",\"#C0587E\", \"#4f8901\", \"#bdd002\",\"#bded55\" /*\"#e0f5b3\"*/, \"#72ccb7\", \"#ffa3f3\", \"#8ed1f5\", \"#6579c7\", \"#a819e6\", \"#3d13e8\"])\n\nconst tooltipCircle = d3.select(\"#two\")\n  .append(\"div\")\n  .attr(\"class\", \"tooltip-circle\")\n  .style(\"position\", \"absolute\")\n  .style(\"opacity\", 0)\n  .style(\"background-color\", \"white\")\n  .style(\"color\", \"black\")\n  .style(\"border-radius\", \"4px\")\n  .style(\"border-width\", \"2px\")\n  .style(\"border-color\", \"black\");\n\nconst tipover = function (d) {\n  \n  d3.select(this).attr(\"stroke\", \"#ebfffb\");\n  tooltipCircle\n            .html(`${d3.select(this).attr(\"tooltipval\")}`) \n            .style(\"opacity\", 1)\n            .style(\"top\", `${(height)}`/2 +\"px\")\n            .style(\"left\", `${(height)}`/2 + \"px\")\n}\nconst tipleave = function () \n{ d3.select(this).attr(\"stroke\", null);\n  \n  tooltipCircle\n    .style(\"opacity\", 0)\n}\n\nconst node = svg.append(\"g\")\n                .selectAll(\"node\")\n                .data(root.descendants())\n                .join(\"circle\")\n                .classed(\"node\", true)\n                .attr(\"r\", d=> d.r)\n                .attr(\"fill\", d => color(d.data.word))\n                .attr(\"tooltipval\", d => d.data.tooltip)\n                .attr(\"stroke\", \"light blue\")\n                .attr(\"pointer-events\", d => !d.children ? \"none\" : null)\n                .on(\"mouseover\", tipover)\n                .on(\"mouseout\", tipleave)\n                .on(\"click\", (event, d) => focus !== d && (zoom(event, d), event.stopPropagation()));\n\nconst label = svg.append(\"g\")\n                    .style(\"font\", \"15px sans-serif\")\n                    .style(\"font\", \"bold\")\n                    .attr(\"fill\", \"black\")\n                    .attr(\"pointer-events\", \"none\")\n                    .attr(\"text-anchor\", \"middle\")\n                .selectAll(\"text\")\n                    .data(root.descendants())\n                    .join(\"text\")\n                    .style(\"fill-opacity\", d => d.parent === root ? 1 : 0)\n                    .style(\"display\", d => d.parent === root ? \"inline\" : \"none\")\n                    .text(d => d.data.word);\n\n\nzoomTo([root.x, root.y, root.r * 2]);\n\n  function zoomTo(v) {\n    const k = width / v[2];\n\n    view = v;\n\n    label.attr(\"transform\", d => `translate(${(d.x - v[0]) * k},${(d.y - v[1]) * k})`);\n    node.attr(\"transform\", d => `translate(${(d.x - v[0]) * k},${(d.y - v[1]) * k})`);\n    node.attr(\"r\", d => d.r * k);\n  }\n\n  function zoom(event, d) {\n    const focus0 = focus;\n\n    focus = d;\n\n    const transition = svg.transition()\n        .duration(event.altKey ? 7500 : 750)\n        .tween(\"zoom\", d => {\n          const i = d3.interpolateZoom(view, [focus.x, focus.y, focus.r * 2]);\n          return t => zoomTo(i(t));\n        });\n\n    label\n      .filter(function(d) { return d.parent === focus || this.style.display === \"inline\"; })\n      .transition(transition)\n        .style(\"fill-opacity\", d => d.parent === focus ? 1 : 0)\n        .on(\"start\", function(d) { if (d.parent === focus) this.style.display = \"inline\"; })\n        .on(\"end\", function(d) { if (d.parent !== focus) this.style.display = \"none\"; });\n  }\n\nreturn svg.node;\n       \n}\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","import","parcelRequire","resolve","then","register","JSON","parse","$2YFJl","$ae4153fdcae12904$var$height","window","innerHeight","$ae4153fdcae12904$var$width","$ae4153fdcae12904$var$state","data","data1","console","log","svg","select","style","append","attr","on","event","zoom","root","pack","size","radius","d","value","padding","hierarchy","sum","sort","a","b","view","focus","color","scaleOrdinal","domain","unknown","range","tooltipCircle","tipover","this","html","tipleave","node","selectAll","descendants","join","classed","r","word","tooltip","children","stopPropagation","label","parent","text","zoomTo","v","k","x","y","transition","duration","altKey","tween","interpolateZoom","t","filter","display","$ae4153fdcae12904$var$init"],"version":3,"file":"circlepack.6128d924.js.map"}